(this["webpackJsonptocata-pedal"]=this["webpackJsonptocata-pedal"]||[]).push([[0],{121:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(0),c=n.n(a),i=n(15),o=n.n(i),s=n(14),u=n(10),l=n(22),f=n(7),b=n.n(f),d=n(27),p=n(9),h=n(39),j=n(40),v=51966,m=function(){function e(t,n){var r=this;Object(h.a)(this,e),this.usb=t,this.device=null,this.connectionEvent=n,t.onconnect=function(e){return r.onconnect(e)},t.ondisconnect=function(e){return r.ondisconnect(e)}}return Object(j.a)(e,[{key:"onconnect",value:function(){var e=Object(p.a)(f.mark((function e(t){return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.connected&&t.device.vendorId===v){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,console.log("Device found. Reconnecting..."),e.next=6,this.connectDevice(t.device);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log("Cannot connect",e.t0);case 11:case"end":return e.stop()}}),e,this,[[2,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"ondisconnect",value:function(){var e=Object(p.a)(f.mark((function e(t){return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.device&&this.device===t.device){e.next=2;break}return e.abrupt("return");case 2:this.device=null,this.connectionEvent&&this.connectionEvent(!1);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"connect",value:function(){var e=Object(p.a)(f.mark((function e(){var t,n;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.reconnect();case 3:e.next=16;break;case 5:return e.prev=5,e.t0=e.catch(0),console.log("Connecting..."),t=[{vendorId:v}],e.next=11,this.usb.requestDevice({filters:t});case 11:if(n=e.sent){e.next=14;break}throw new Error("No device selected");case 14:return e.next=16,this.connectDevice(n);case 16:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()},{key:"reconnect",value:function(){var e=Object(p.a)(f.mark((function e(){var t,n;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.connected){e.next=2;break}return e.abrupt("return");case 2:return console.log("Reconnecting..."),e.next=5,this.usb.getDevices();case 5:if(t=e.sent,n=t.find((function(e){return e.vendorId===v}))){e.next=9;break}throw new Error("No cached devices found");case 9:return e.next=11,this.connectDevice(n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"connectDevice",value:function(){var e=Object(p.a)(f.mark((function e(t){var n=this;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.open();case 2:if(null!==t.configuration){e.next=5;break}return e.next=5,t.selectConfiguration(1);case 5:if(t.configuration.interfaces.forEach((function(e){e.alternates.forEach((function(t){255===t.interfaceClass&&(n.interfaceNumber=e.interfaceNumber,t.endpoints.forEach((function(e){"out"===e.direction&&(n.endpointOut=e.endpointNumber),"in"===e.direction&&(n.endpointIn=e.endpointNumber)})))}))})),this.endpointIn&&this.endpointOut){e.next=9;break}throw new Error("Cannot find USB device");case 9:return e.next=11,t.claimInterface(this.interfaceNumber);case 11:return e.next=13,t.controlTransferOut({requestType:"class",recipient:"interface",request:34,value:1,index:this.interfaceNumber});case 13:this.device=t,this.connectionEvent&&this.connectionEvent(!0);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"send",value:function(){var e=Object(p.a)(f.mark((function e(t){var n,r;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.buffer;case 1:if(!n){e.next=7;break}return n.byteLength>64?(r=n.slice(0,64),n=n.slice(64)):(r=n,n=null),e.next=5,this.device.transferOut(this.endpointOut,r);case 5:e.next=1;break;case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"receive",value:function(){var e=Object(p.a)(f.mark((function e(){var t,n;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.device.transferIn(this.endpointIn,64);case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"connected",get:function(){return null!=this.device}}]),e}(),O=function(){function e(t){Object(h.a)(this,e),this.ws=null,this.connectionEvent=t,this.queue=[],this.resolve=null}return Object(j.a)(e,[{key:"connect",value:function(){var e=Object(p.a)(f.mark((function e(){var t,n=this;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=new WebSocket("ws://localhost:9002")).binaryType="arraybuffer",t.onopen=function(e){console.log("onopen",e),n.ws=t,n.connectionEvent(!0)},t.onerror=function(e){console.log("onerror",e),n.ws=null,n.connectionEvent(!1)},t.onmessage=function(e){n.queue.push(new Uint8Array(e.data)),n.resolve&&(n.resolve(n.queue.shift()),n.resolve=null)};case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"reconnect",value:function(){var e=Object(p.a)(f.mark((function e(){return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.connect());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"send",value:function(){var e=Object(p.a)(f.mark((function e(t){return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.ws.send(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"receive",value:function(){var e=Object(p.a)(f.mark((function e(){var t=this;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.queue.length>0)){e.next=2;break}return e.abrupt("return",this.queue.shift());case 2:return e.abrupt("return",new Promise((function(e,n){t.resolve=e})));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"connected",get:function(){return null!=this.ws}}]),e}(),x=function(){function e(t,n){Object(h.a)(this,e),this.transport=t?new m(t,n):new O(n),this.buffer=new Uint8Array}return Object(j.a)(e,[{key:"connect",value:function(e){return e?this.transport.reconnect():this.transport.connect()}},{key:"receive",value:function(){var e=Object(p.a)(f.mark((function e(){var t,n,r,a,c,i,o,s;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=1/0;case 1:if(!(this.buffer.byteLength<t)){e.next=14;break}return e.next=4,this.transport.receive();case 4:r=e.sent,a=this.buffer,this.buffer=new Uint8Array(a.byteLength+r.byteLength),this.buffer.set(a),this.buffer.set(new Uint8Array(r.buffer),a.byteLength),n=new DataView(this.buffer.buffer),c=this.buffer.byteLength>2?n.getUint16(0,!0):1/0,t=4+c,e.next=1;break;case 14:if(i=n.getUint8(2),o=n.getUint8(3),s=this.buffer.slice(4),this.buffer=this.buffer.byteLength>t?this.buffer.slice(t):new Uint8Array,0!==o){e.next=22;break}return e.abrupt("return",{command:i,status:o,data:s});case 22:throw new Error("Response with status ".concat(o));case 23:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sendRequest",value:function(){var e=Object(p.a)(f.mark((function e(t){var n,r,a,c=arguments;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:new Uint8Array,r=new Uint8Array(4+n.byteLength),(a=new DataView(r.buffer)).setUint16(0,n.byteLength,!0),a.setUint8(2,t),a.setUint8(3,0),r.set(n,4),e.next=9,this.transport.send(a);case 9:return e.next=11,this.receive();case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"connected",get:function(){return this.transport.connected}}]),e}(),g=n(82),y=n(83);var w={uint8:function(e,t){return[e.getUint8(t),t+1]},uint16:function(e,t){return[e.getUint16(t),t+2]},uint32:function(e,t){return[e.getUint32(t),t+4]},bool:function(e,t){return[0!==e.getUint8(t),t+1]},enum:function(e,t,n){return[n[e.getUint8(t)],t+1]},str:function(e,t,n){var r=new Uint8Array(e.buffer,t,n+1),a=r.findIndex((function(e){return 0===e}));return[String.fromCharCode.apply(null,r.slice(0,a)),t+n+1]},array:function(e,t,n,r){for(var a=[],c=arguments.length,i=new Array(c>4?c-4:0),o=4;o<c;o++)i[o-4]=arguments[o];for(var u=0;u<n;++u){var l=void 0,f=w[r].apply(w,[e,t].concat(i)),b=Object(s.a)(f,2);l=b[0],t=b[1],a[u]=l}return[a,t]},nArray:function(e,t){for(var n=e.getUint8(t++),r=arguments.length,a=new Array(r>2?r-2:0),c=2;c<r;c++)a[c-2]=arguments[c];var i=w.array.apply(w,[e,t].concat(a)),o=Object(s.a)(i,2),u=o[0],l=o[1];return[u.slice(0,n),l]},struct:function(e,t,n){var r,a,c={},i=Object(y.a)(n.fields);try{for(i.s();!(r=i.n()).done;){var o,u=Object(g.a)(r.value),l=u[0],f=u[1],b=u.slice(2),p=w[f].apply(w,[e,t].concat(Object(d.a)(b))),h=Object(s.a)(p,2);o=h[0],t=h[1],null===(a=o)||"object"==typeof a&&0===a.length||"boolean"==typeof a&&!1===a||(c[l]=o)}}catch(j){i.e(j)}finally{i.f()}return[n.valid&&!n.valid(c)?null:c,t]}},k={uint8:function(e,t,n){return e.setUint8(t,n),t+1},uint16:function(e,t,n){return e.setUint16(t,n),t+2},uint32:function(e,t,n){return e.setUint32(t,n),t+4},bool:function(e,t,n){return e.setUint8(t,n),t+1},enum:function(e,t,n,r){return e.setUint8(t,r.findIndex((function(e){return e===n}))),t+1},str:function(e,t,n,r){for(var a=n?n.length:0,c=0;c<a;++c)e.setUint8(t+c,n.charCodeAt(c));return e.setUint8(t+a,0),t+r+1},array:function(e,t,n,r,a){for(var c=arguments.length,i=new Array(c>5?c-5:0),o=5;o<c;o++)i[o-5]=arguments[o];for(var s=0;s<r;++s)t=k[a].apply(k,[e,t,n?n[s]:null].concat(i));return t},nArray:function(e,t,n){e.setUint8(t++,n?n.length:0);for(var r=arguments.length,a=new Array(r>3?r-3:0),c=3;c<r;c++)a[c-3]=arguments[c];return k.array.apply(k,[e,t,n].concat(a))},struct:function(e,t,n,r){n=!n||r.valid&&!r.valid(n)?{}:n;var a,c=Object(y.a)(r.fields);try{for(c.s();!(a=c.n()).done;){var i=Object(g.a)(a.value),o=i[0],s=i[1],u=i.slice(2);t=k[s].apply(k,[e,t,n[o]].concat(Object(d.a)(u)))}}catch(l){c.e(l)}finally{c.f()}return t}},C={fields:[["wifi","struct",{fields:[["ssid","str",63],["key","str",63]],valid:function(e){return e.ssid}},function(e){return e.ssid}]]},N={fields:[["type","enum",[null,"PC","CC","NO","NF"]],["values","array",2,"uint8"]]},A={fields:[["id","uint8"],["names","nArray",16,"str",30]]},P={fields:[["id","uint8"],["program","struct",{fields:[["name","str",30],["fs","nArray",6,"struct",{fields:[["onActions","nArray",5,"struct",N],["offActions","nArray",5,"struct",N],["name","str",5],["color","enum",[null,"blue","purple","red","yellow","green","turquoise"]],["enabled","bool"],["momentary","bool"]],valid:function(e){return e.name}}],["actions","nArray",5,"struct",N]],valid:function(e){return e.name}}]]},U=function(e,t){return w.struct(new DataView(e),0,t)[0]},S=function(e,t,n){return e.slice(0,k.struct(new DataView(e),0,t,n))},E=function(){function e(t){var n=this;Object(h.a)(this,e),this.connect=function(e){return n.protocol.connect(e)},this.usb=t,this.protocol=null,this.requestQueue=[],this.protocol=new x(t,(function(e){return n.connectionEvent&&n.connectionEvent(e)}))}return Object(j.a)(e,[{key:"sendRequest",value:function(e,t){var n=this;if(!this.connected)throw new Error("Not connected");var r={command:e,data:new Uint8Array(t)},a=new Promise((function(e,t){r.resolve=e,r.reject=t}));this.requestQueue.push(r);var c=function(){var e=Object(p.a)(f.mark((function e(){var t,r,a;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==n.requestQueue.length){e.next=2;break}return e.abrupt("return");case 2:return t=n.requestQueue[0],e.prev=3,e.next=6,n.protocol.sendRequest(t.command,t.data);case 6:r=e.sent,a=r.data,t.resolve(a.buffer),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),t.reject(e.t0);case 14:n.requestQueue.shift(),c();case 16:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}();return 1===this.requestQueue.length&&c(),a}},{key:"getConfig",value:function(){var e=Object(p.a)(f.mark((function e(){var t;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getConfig"),e.next=3,this.sendRequest(3);case 3:return t=e.sent,e.abrupt("return",U(t,C));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setConfig",value:function(){var e=Object(p.a)(f.mark((function e(t){var n;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("setConfig"),r=t,n=S(new Uint8Array(512).buffer,r,C),e.next=4,this.sendRequest(4,n);case 4:case"end":return e.stop()}var r}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteConfig",value:function(){var e=Object(p.a)(f.mark((function e(){return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("deleteConfig"),e.next=3,this.sendRequest(5);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getProgramNames",value:function(){var e=Object(p.a)(f.mark((function e(){var t,n,r;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("getProgramNames"),t=[];case 2:if(!(t.length<99)){e.next=10;break}return e.next=5,this.sendRequest(6,new Uint8Array([t.length]));case 5:n=e.sent,r=U(n,A),t.push.apply(t,Object(d.a)(r.names)),e.next=2;break;case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getProgram",value:function(){var e=Object(p.a)(f.mark((function e(t){var n,r,a;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getprogram",t),e.next=3,this.sendRequest(7,new Uint8Array([t]));case 3:return n=e.sent,r=U(n,P),a=r.program,e.abrupt("return",a||{});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setProgram",value:function(){var e=Object(p.a)(f.mark((function e(t,n){var r;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("setprogram",t),a={id:t,program:n},r=S(new Uint8Array(512).buffer,a,P),e.next=4,this.sendRequest(8,r);case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteProgram",value:function(){var e=Object(p.a)(f.mark((function e(t){return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("deleteProgram",t),e.next=3,this.sendRequest(9,new Uint8Array([t]));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"restart",value:function(){var e=Object(p.a)(f.mark((function e(){return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendRequest(1);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"firmwareUpgrade",value:function(){var e=Object(p.a)(f.mark((function e(){return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendRequest(2);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"backup",value:function(){var e=Object(p.a)(f.mark((function e(){var t,n,r;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getConfig();case 2:return t=e.sent,e.next=5,this.getProgramNames();case 5:n=e.sent,t.programs=[],e.t0=f.keys(n);case 8:if((e.t1=e.t0()).done){e.next=16;break}if(r=e.t1.value,!n[r]){e.next=14;break}return e.next=13,this.getProgram(r);case 13:t.programs[r]=e.sent;case 14:e.next=8;break;case 16:return e.abrupt("return",t);case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"restore",value:function(){var e=Object(p.a)(f.mark((function e(t){var n,r,a;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.programs,r=0;case 2:if(!(r<99)){e.next=14;break}if(!(a=n[r])||!a.name){e.next=9;break}return e.next=7,this.setProgram(r,a);case 7:e.next=11;break;case 9:return e.next=11,this.deleteProgram(r);case 11:++r,e.next=2;break;case 14:return e.next=16,this.setConfig(t);case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"factory",value:function(){var e=Object(p.a)(f.mark((function e(){var t;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<99)){e.next=7;break}return e.next=4,this.deleteProgram(t);case 4:++t,e.next=1;break;case 7:return e.next=9,this.deleteConfig();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"connected",get:function(){return this.protocol.connected}}]),e}(),I=99,q=new URLSearchParams(window.location.search).get("transport")||"usb",R=new E("usb"===q?navigator.usb:null),D=function(){return"ws"===q||"usb"in navigator},F=function(e){return R.connect(e)},T=function(){return R.getConfig()},L=function(e){return R.setConfig(e)},M=function(){return R.deleteConfig()},B=function(){return R.getProgramNames()},W=function(e){return R.getProgram(e)},J=function(e,t){return R.setProgram(e,t)},Q=function(e){return R.deleteProgram(e)},z=function(){return R.firmwareUpgrade()};function V(e){return G.apply(this,arguments)}function G(){return(G=Object(p.a)(b.a.mark((function e(t){var n,r,a,c,i,o,s,u,l,f;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(e){n+=e,t&&t(n)},n=0,console.log("start readAll"),e.next=5,B();case 5:return a=e.sent,r(5),e.next=9,T();case 9:c=e.sent,i=c.wifi,r(5),o=a.reduce((function(e,t,n){return t?[].concat(Object(d.a)(e),[n]):e}),[]),s=[],u=(100-n)/o.length,e.t0=b.a.keys(o);case 16:if((e.t1=e.t0()).done){e.next=25;break}return l=e.t1.value,f=o[l],e.next=21,W(f);case 21:s[f]=e.sent,r(u),e.next=16;break;case 25:return t&&t(100),console.log("end readAll"),e.abrupt("return",{wifi:i,programs:s});case 28:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e,t){return H.apply(this,arguments)}function H(){return(H=Object(p.a)(b.a.mark((function e(t,n){var r,a,c,i,o,s,u,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=function(e){i+=e,n&&n(i)},r=t.wifi,a=t.programs,c=void 0===a?[]:a,i=0,console.log("start updateAll"),s=1,u=0;case 6:if(!(u<I)){e.next=14;break}return l=c[u],e.next=10,l?J(u,l):Q(u);case 10:o(s);case 11:++u,e.next=6;break;case 14:return e.next=16,r?L({wifi:r}):M();case 16:o(1),console.log("end updateAll");case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e){return X.apply(this,arguments)}function X(){return(X=Object(p.a)(b.a.mark((function e(t){var n,r,a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=function(e){n+=e,t&&t(n)},n=0,console.log("start restore"),a=1,c=0;case 5:if(!(c<I)){e.next=12;break}return e.next=8,Q(c);case 8:r(a);case 9:++c,e.next=5;break;case 12:return e.next=14,M();case 14:r(1),console.log("end restore");case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Z=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function $(e){return _.apply(this,arguments)}function _(){return(_=Object(p.a)(b.a.mark((function e(t){var n,r,a,c,i,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(e){n+=e,t&&t(n)},n=0,console.log("start restart"),e.next=5,R.restart();case 5:r(5),i=(100-n)/((a=2e3)/(c=500)),console.log("waiting ".concat(a/1e3," seconds")),o=0;case 11:if(!(o<a)){e.next=18;break}return e.next=14,Z(c);case 14:o+=c,r(i),e.next=11;break;case 18:console.log("end restart");case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ee=n(169),te=n(173),ne=n(168),re=n(166),ae=n(190),ce=n(189),ie=n(171),oe=n(167),se=n(123),ue=n(164),le=n(165),fe=n(96),be=n.n(fe),de=n(170),pe=n(34),he=n(161),je=n(18),ve=n(81),me=n(16),Oe=240,xe=Object(he.a)((function(e){return{root:{display:"flex"},drawer:Object(l.a)({},e.breakpoints.up("sm"),{width:Oe,flexShrink:0}),appBar:Object(l.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(Oe,"px)"),marginLeft:Oe}),menuButton:Object(l.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:Oe},content:{flexGrow:1,padding:e.spacing(3)}}}));function ge(e){var t=e.icon,n=e.primary,a=e.to,i=e.index,o=e.onClick,s=c.a.useMemo((function(){return c.a.forwardRef((function(e,t){return Object(r.jsx)(ve.a,Object(u.a)({to:a,ref:t},e))}))}),[a]);return Object(r.jsx)("li",{children:Object(r.jsxs)(se.a,{button:!0,component:s,onClick:o,children:[t?Object(r.jsx)(ue.a,{children:t}):null,Object(r.jsx)(le.a,{primary:n})]})},i)}var ye=function(e){var t,n=e.window,a=e.navigation,i=xe(),o=Object(je.a)(),u=c.a.useState(!1),l=Object(s.a)(u,2),f=l[0],b=l[1],d=c.a.useState(R.connected),p=Object(s.a)(d,2),h=p[0],j=p[1];t=function(e){console.log(e?"connected":"disconnected"),j(e)},R.connectionEvent=t,c.a.useEffect((function(){D()&&F(!0).catch((function(e){return console.log("Cannot reconnect",e)}))}),[]);var v=function(){console.log("handleDrawerToggle",f),b(!f)},m=Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:i.toolbar}),Object(r.jsx)(re.a,{}),Object(r.jsx)(oe.a,{children:a.map((function(e,t){var n=e.path,a=e.name;return Object(r.jsx)(ge,{to:n,primary:a,onClick:function(){return b(!1)}},t)}))})]}),O=void 0!==n?function(){return n().document.body}:void 0;return Object(r.jsx)(me.a,{children:Object(r.jsxs)("div",{className:i.root,children:[Object(r.jsx)(ne.a,{}),Object(r.jsx)(ee.a,{position:"fixed",className:i.appBar,children:Object(r.jsxs)(de.a,{children:[Object(r.jsx)(ie.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:v,className:i.menuButton,children:Object(r.jsx)(be.a,{})}),Object(r.jsx)(pe.a,{variant:"h6",noWrap:!0,children:Object(r.jsx)(me.d,{children:function(e){var t=e.location,n=a.filter((function(e){var n=e.path;return t.pathname.startsWith(n)}));return n.length>0?n[0].title:"TocataPedal"}})})]})}),Object(r.jsxs)("nav",{className:i.drawer,"aria-label":"mailbox folders",children:[Object(r.jsx)(ce.a,{smUp:!0,implementation:"css",children:Object(r.jsx)(ae.a,{container:O,variant:"temporary",anchor:"rtl"===o.direction?"right":"left",open:f,onClose:v,classes:{paper:i.drawerPaper},ModalProps:{keepMounted:!0},children:m})}),Object(r.jsx)(ce.a,{xsDown:!0,implementation:"css",children:Object(r.jsx)(ae.a,{classes:{paper:i.drawerPaper},variant:"permanent",open:!0,children:m})})]}),Object(r.jsxs)("main",{className:i.content,children:[Object(r.jsx)("div",{className:i.toolbar}),Object(r.jsxs)(me.f,{children:[a.map((function(e,t){var n=e.path,a=e.content;return Object(r.jsx)(me.d,{path:n,children:D()?h?c.a.createElement(a,{}):Object(r.jsx)(te.a,{color:"primary",variant:"contained",onClick:function(){return F().catch((function(e){return console.log("Cannot connect",e)}))},children:"Connect to device"}):Object(r.jsx)(pe.a,{children:"This browser doesn't support USB connections. Please use Google Chrome."})},t)})),Object(r.jsx)(me.c,{to:"/programs"})]})]})]})})},we=n(188),ke=n(174),Ce=n(175),Ne=n(176),Ae=n(177),Pe=n(178),Ue=n(179),Se=n(180),Ee=n(181),Ie=n(182),qe=n(191),Re=n(192),De=n(183),Fe=Object(he.a)((function(e){return{root:{margin:e.spacing(1),minWidth:120},chip:{margin:e.spacing(.5,0)},card:{padding:e.spacing(1,2)}}}));function Te(e){return Le[e.type].description(e)}var Le={PC:{name:"Program Change",values:[{name:"Program",min:1}],description:function(e){return"".concat(e.values[0])}},CC:{name:"Control Change",values:[{name:"Control",min:1},{name:"Value"}],description:function(e){return"".concat(e.values[0],":").concat(e.values[1])}}};function Me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"PC",t={type:e,values:[0,0]};return Le[e].values.forEach((function(e,n){return t.values[n]=e.min||0})),t}function Be(e){var t=e.id,n=e.action,c=e.setAction,i=e.onClose,o=e.open,l=Fe(),f=Object(a.useState)(n||Me("PC")),b=Object(s.a)(f,2),p=b[0],h=b[1];function j(e){var t=Object(d.a)(p.values);t[e.target.index]=e.target.value,h(Object(u.a)(Object(u.a)({},p),{},{values:t}))}function v(e){var t=Le[p.type].values[e];return t&&Object(r.jsx)(we.a,{type:"number",label:t.name,className:l.root,index:e,value:void 0===p.values[e]?t.min:p.values[e],onChange:j,inputProps:{min:void 0===t.min?0:t.min,max:void 0===t.max?127:t.max}})}return Object(a.useEffect)((function(){return h(n||Me("PC"))}),[n,o]),Object(r.jsxs)(ke.a,{onClose:i,"aria-labelledby":"simple-dialog-title",open:o,children:[Object(r.jsx)(Ce.a,{id:"simple-dialog-title",children:"MIDI ACTION ".concat(Number(t)+1)}),Object(r.jsx)(Ne.a,{children:Object(r.jsxs)(Ae.a,{container:!0,direction:"column",alignItems:"flex-start",children:[Object(r.jsx)(we.a,{label:"Type",select:!0,name:"type",value:p.type,className:l.led,onChange:function(e){var t=e.target.value;h(n&&n.type===t?n:Me(t))},children:Object.keys(Le).map((function(e,t){return Object(r.jsx)(Pe.a,{value:e,children:Le[e].name},t)}))}),v(0),v(1)]})}),Object(r.jsxs)(Ue.a,{children:[Object(r.jsx)(te.a,{variant:"contained",color:"primary",onClick:i,children:"Cancel"}),Object(r.jsx)(te.a,{variant:"contained",color:"primary",onClick:function(){c(t,p),i()},children:"Update"})]})]})}function We(e){var t=e.actions,n=e.setActions,c=e.title,i=Fe(),o=Object(a.useState)(!1),l=Object(s.a)(o,2),f=l[0],b=l[1],p=Object(a.useState)({actions:t}),h=Object(s.a)(p,2),j=h[0],v=h[1];function m(e){var t=j.actions?j.actions[e]:null;v(Object(u.a)(Object(u.a)({},j),{},{id:e,action:t})),b(!0)}return Object(a.useEffect)((function(){return v({actions:t})}),[t]),Object(r.jsxs)(Se.a,{className:i.root,children:[Object(r.jsx)(Ee.a,{className:i.card,title:c,titleTypographyProps:{variant:"subtitle1"}}),Object(r.jsx)(Ie.a,{className:i.card,children:Object(r.jsx)(Ae.a,{container:!0,direction:"column",alignItems:"flex-start",children:t&&t.length>0?t.map((function(e,t){return Object(r.jsx)(qe.a,{className:i.chip,avatar:Object(r.jsx)(Re.a,{children:e.type}),variant:"outlined",label:Te(e),clickable:!0,onClick:function(){return m(t)},onDelete:function(){return function(e){var t=Object(d.a)(j.actions);t.splice(e,1),v(Object(u.a)(Object(u.a)({},j),{},{actions:t})),n(t)}(t)}},t)})):"No actions"})}),Object(r.jsx)(De.a,{children:Object(r.jsx)(te.a,{color:"primary",variant:"contained",size:"small",onClick:function(){m(t?t.length:0)},children:"Add"})}),Object(r.jsx)(Be,{id:j.id,action:j.action,setAction:function(e,t){var r=j.actions||[];r[e]=t,v({actions:r,id:e,action:t}),n(r)},open:f,onClose:function(){return b(!1)}})]})}var Je=n(184),Qe=n(193),ze=n(185),Ve=n(71),Ge=n.n(Ve),Ye=n(72),He=n.n(Ye),Ke="A".charCodeAt(0),Xe=["blue","purple","red","yellow","green","turquoise"],Ze=Object(he.a)((function(e){return{root:{margin:e.spacing(1),minWidth:120},led:{margin:e.spacing(1)},icon:{margin:e.spacing(2,0,0,1)},fsEntry:{float:"left",width:90}}}));function $e(e){var t=e.color;return Object(r.jsx)("div",{style:{width:15,height:15,borderWidth:1,borderStyle:"solid",borderRadius:"50%",backgroundColor:t,float:"left"}})}function _e(e){var t=e.id,n=e.footswitch,c=e.setFootswitch,i=e.onClose,o=e.open,f=Ze(),b=Object(a.useMemo)((function(){return{name:"",color:Xe[0],enabled:!1,momentary:!1,onActions:[],offActions:[]}}),[]),d=Object(a.useState)(Object(u.a)(Object(u.a)({},b),n)),p=Object(s.a)(d,2),h=p[0],j=p[1];function v(e){j(Object(u.a)(Object(u.a)({},h),{},Object(l.a)({},e.target.name,e.target.value)))}function m(e){j(Object(u.a)(Object(u.a)({},h),{},Object(l.a)({},e.target.name,e.target.checked)))}return Object(a.useEffect)((function(){return j(Object(u.a)(Object(u.a)({},b),n))}),[n,b]),Object(r.jsxs)(ke.a,{onClose:i,"aria-labelledby":"simple-dialog-title",open:o,children:[Object(r.jsx)(Ce.a,{id:"simple-dialog-title",children:"FOOTSWITCH ".concat(String.fromCharCode(Ke+Number(t)))}),Object(r.jsx)(Ne.a,{children:Object(r.jsxs)(Ae.a,{container:!0,direction:"column",alignItems:"flex-start",children:[Object(r.jsx)(we.a,{label:"Footswitch name",className:f.root,name:"name",value:h.name,onChange:v,inputProps:{maxLength:5}}),Object(r.jsx)(we.a,{label:"Color",select:!0,name:"color",value:h.color,className:f.led,onChange:v,children:Xe.map((function(e,t){return Object(r.jsx)(Pe.a,{value:e,children:Object(r.jsx)($e,{color:e})},t)}))}),Object(r.jsx)(Je.a,{className:f.root,control:Object(r.jsx)(Qe.a,{checked:h.enabled,name:"enabled",onChange:m}),label:"Default On"}),Object(r.jsx)(Je.a,{className:f.root,control:Object(r.jsx)(Qe.a,{checked:h.momentary,name:"momentary",onChange:m}),label:"Momentary"})]})}),Object(r.jsxs)(Ue.a,{children:[Object(r.jsx)(te.a,{variant:"contained",color:"primary",onClick:i,children:"Cancel"}),Object(r.jsx)(te.a,{variant:"contained",color:"primary",onClick:function(){c(t,h),i()},disabled:!h.name,children:"Update"})]})]})}function et(e){var t=e.id,n=e.footswitch,a=void 0===n?{}:n,c=e.setFootswitch;return a.name?Object(r.jsxs)(Ae.a,{container:!0,direction:"row",alignItems:"flex-start",children:[Object(r.jsx)(We,{actions:a.onActions,setActions:function(e){return c(t,Object(u.a)(Object(u.a)({},a),{},{onActions:e}))},title:"On MIDI"}),Object(r.jsx)(We,{actions:a.offActions,setActions:function(e){return c(t,Object(u.a)(Object(u.a)({},a),{},{offActions:e}))},title:"Off MIDI"})]}):Object(r.jsx)("div",{})}function tt(e){var t=e.footswitches,n=e.setFootswitches,c=Ze(),i=Object(a.useState)(x(t)),o=Object(s.a)(i,2),l=o[0],f=o[1],b=Object(a.useState)(!1),d=Object(s.a)(b,2),p=d[0],h=d[1],j=Object(a.useState)(0),v=Object(s.a)(j,2),m=v[0],O=v[1];function x(e){for(var t=e.map((function(e){return e?{name:e.name,color:e.color}:null})),n=t.length;n<6;++n)t.push(null);return t}function g(e,r){var a=r?Object(u.a)({},r):null;for(a&&!t[e]&&(a.onActions=[{type:"CC",values:[Number(e)+32,127]}],a.offActions=[{type:"CC",values:[Number(e)+32,0]}]),a&&(a.enabled||delete a.enabled,a.momentary||delete a.momentary,a.onActions&&0===a.onActions.length&&delete a.onActions,a.offActions&&0===a.offActions.length&&delete a.offActions),t[e]=a;t.length>0&&!t[t.length-1];)t.pop();n(t),f(x(t))}Object(a.useEffect)((function(){return f(x(t))}),[t]);return Object(r.jsxs)(Ae.a,{children:[Object(r.jsxs)(Ae.a,{children:[Object(r.jsx)(we.a,{label:"Footswitch",className:c.root,select:!0,value:m,onChange:function(e){var t=e.target.value;O(t)},children:l.map((function(e,t){return Object(r.jsx)(Pe.a,{value:t,children:Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:c.fsEntry,children:"".concat(String.fromCharCode(Ke+t)," - ").concat(e?e.name:"<EMPTY>")}),e?Object(r.jsx)($e,{color:e.color}):Object(r.jsx)("div",{})]})},t)}))}),Object(r.jsx)(ze.a,{className:c.icon,size:"small",color:"primary","aria-label":"edit",onClick:function(){return h(!0)},children:Object(r.jsx)(Ge.a,{})}),Object(r.jsx)(ze.a,{className:c.icon,size:"small",color:"secondary","aria-label":"delete",onClick:function(){return g(m,null)},children:Object(r.jsx)(He.a,{})}),Object(r.jsx)(_e,{id:m,footswitch:t[m],setFootswitch:g,open:p,onClose:function(){return h(!1)}})]}),Object(r.jsx)(et,{id:m,footswitch:t[m],setFootswitch:g})]})}var nt=n(186),rt="Are you sure you want to discard the changes made to this program?",at=Object(he.a)((function(e){return{root:{margin:e.spacing(1),minWidth:120},icon:{margin:e.spacing(2,0,0,1)}}})),ct=function(e,t){return"".concat(Number(t)+1," - ").concat(e||"<EMPTY>")};function it(e,t){if(e===t)return!0;if("object"!=typeof e||"object"!=typeof t||null==e||null==t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=0,c=n;a<c.length;a++){var i=c[a];if(!r.includes(i)||!it(e[i],t[i]))return!1}return!0}function ot(e){var t=e.id,n=e.program,c=e.setProgram,i=e.onClose,o=e.open,f=at(),b=Object(a.useMemo)((function(){return{name:"",actions:[],fs:[]}}),[]),d=Object(a.useState)(Object(u.a)(Object(u.a)({},b),n)),p=Object(s.a)(d,2),h=p[0],j=p[1];return Object(a.useEffect)((function(){return j(Object(u.a)(Object(u.a)({},b),n))}),[n,b]),Object(r.jsxs)(ke.a,{onClose:i,"aria-labelledby":"simple-dialog-title",open:o,children:[Object(r.jsx)(Ce.a,{id:"simple-dialog-title",children:"PROGRAM ".concat(Number(t)+1)}),Object(r.jsx)(Ne.a,{children:Object(r.jsx)(we.a,{label:"Name",name:"name",className:f.root,value:h.name,onChange:function(e){var t=Object(u.a)(Object(u.a)({},h),{},Object(l.a)({},e.target.name,e.target.value));j(t)},inputProps:{maxLength:30}})}),Object(r.jsxs)(Ue.a,{children:[Object(r.jsx)(te.a,{variant:"contained",color:"primary",onClick:i,children:"Cancel"}),Object(r.jsx)(te.a,{variant:"contained",color:"primary",onClick:function(){c(t,h),i()},disabled:!h.name,children:"Update"})]})]})}function st(e){var t=e.id,n=e.program,c=e.setProgram;n.name||(n.actions=[{type:"PC",values:[Number(t)+1]}]);var i=Object(a.useMemo)((function(){return{name:"",actions:[],fs:[]}}),[]),o=Object(a.useState)(Object(u.a)(Object(u.a)({},i),n)),l=Object(s.a)(o,2),f=l[0],b=l[1];return Object(a.useEffect)((function(){b(Object(u.a)(Object(u.a)({},i),n))}),[n,i]),n.name?Object(r.jsxs)(Ae.a,{container:!0,direction:"column",alignItems:"flex-start",children:[Object(r.jsx)(We,{actions:n.actions,setActions:function(e){return c(t,Object(u.a)(Object(u.a)({},n),{},{actions:e}))},title:"Program MIDI"}),Object(r.jsx)(tt,{footswitches:f.fs?f.fs:[],setFootswitches:function(e){var n=Object(u.a)(Object(u.a)({},f),{},{fs:e});b(n),c(t,n)}})]}):Object(r.jsx)("div",{})}function ut(){var e=at(),t=new URLSearchParams(Object(me.j)().search).get("id")||0,n=Object(me.i)(),c=Object(a.useState)(null),i=Object(s.a)(c,2),o=i[0],u=i[1],l=Object(a.useState)(!1),f=Object(s.a)(l,2),h=f[0],j=f[1],v=Object(a.useState)(null),m=Object(s.a)(v,2),O=m[0],x=m[1],g=Object(a.useState)(null),y=Object(s.a)(g,2),w=y[0],k=y[1],C=Object(me.k)().path;Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(null),e.next=3,B();case 3:t=e.sent,u(t.map(ct));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(null),e.next=3,W(t);case 3:n=e.sent,x(n),k(JSON.parse(JSON.stringify(n)));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}(t)}),[t]);var N=function(){return w&&O&&!it(A(w),A(O))};function A(e){return e?(e.fs&&0===e.fs.length&&delete e.fs,e.actions&&0===e.actions.length&&delete e.actions,e):null}function P(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n){var r=A(t);k(r),J(e,r)}t||Q(e);var a=Object(d.a)(o);a[e]=ct(t?t.name:null,e),u(a),x(t||{})}return o?Object(r.jsxs)("div",{children:[Object(r.jsx)(me.b,{when:O&&N(),message:function(){return rt}}),Object(r.jsxs)("div",{children:[Object(r.jsx)(we.a,{label:"Program",className:e.root,select:!0,value:t,onChange:function(e){var r=e.target.value;r!==t&&(O.name&&N()?window.confirm(rt)&&(P(t,w),n.push("".concat(C,"?id=").concat(r))):n.push("".concat(C,"?id=").concat(r)))},children:o.map((function(e,t){return Object(r.jsx)(Pe.a,{value:t,children:e},t)}))}),Object(r.jsx)(ze.a,{className:e.icon,size:"small",color:"primary","aria-label":"edit",disabled:!O,onClick:function(){return j(!0)},children:Object(r.jsx)(Ge.a,{})}),Object(r.jsx)(ze.a,{className:e.icon,size:"small",color:"secondary","aria-label":"delete",disabled:!O||!O.name,onClick:function(){return P(t,null)},children:Object(r.jsx)(He.a,{})}),Object(r.jsx)(ot,{id:t,program:O,setProgram:P,open:h,onClose:function(){return j(!1)}})]}),Object(r.jsx)(re.a,{}),O?Object(r.jsx)(st,{id:t,program:O,setProgram:P}):Object(r.jsx)(nt.a,{}),O&&O.name&&Object(r.jsxs)(Ae.a,{children:[Object(r.jsx)(re.a,{}),Object(r.jsx)(te.a,{color:"primary",variant:"contained",className:e.root,disabled:!N(),onClick:function(){return P(t,O,!0)},children:"Save"}),Object(r.jsx)(te.a,{color:"secondary",variant:"contained",className:e.root,disabled:!N(),onClick:function(){return P(t,JSON.parse(JSON.stringify(w)))},children:"Discard"})]})]}):Object(r.jsx)(nt.a,{})}var lt=Object(he.a)((function(e){return{root:{margin:e.spacing(1),minWidth:120}}}));function ft(){var e=lt(),t=Object(a.useState)(null),n=Object(s.a)(t,2),c=n[0],i=n[1],o=Object(a.useState)(!1),f=Object(s.a)(o,2),d=f[0],h=f[1];function j(){return(j=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,L(c);case 3:h(!1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){var t=e.target.name.split("."),n=Object(s.a)(t,2),r=n[0],a=n[1];i(Object(u.a)(Object(u.a)({},c),{},Object(l.a)({},r,Object(u.a)(Object(u.a)({},c[r]),{},Object(l.a)({},a,e.target.value)))))}return Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(null),e.t0=i,e.next=4,T();case 4:e.t1=e.sent,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),c?Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)(we.a,{label:"SSID",className:e.root,name:"wifi.ssid",value:c.wifi?c.wifi.ssid:"",onChange:v}),Object(r.jsx)(we.a,{label:"Key",className:e.root,name:"wifi.key",value:c.wifi?c.wifi.key:"",onChange:v})]}),Object(r.jsx)(te.a,{variant:"contained",color:"primary",className:e.root,onClick:function(){return j.apply(this,arguments)},disabled:d,children:"Save"})]}):Object(r.jsx)(nt.a,{})}var bt=Object(he.a)((function(e){return{root:{margin:e.spacing(1),minWidth:120}}}));function dt(){var e=bt(),t=Object(a.useState)(-1),n=Object(s.a)(t,2),c=n[0],i=n[1];function o(){return(o=Object(p.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(0),e.next=3,V(i);case 3:t=e.sent,(n=document.createElement("a")).setAttribute("href","data:text/json;charset=utf-8,".concat(encodeURIComponent(JSON.stringify(t,null,2)))),n.setAttribute("download","TocataConfig.json"),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),i(-1);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){return(u=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(0),e.next=3,K(i);case 3:i(-1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return(l=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(0),e.next=3,$(i);case 3:i(-1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.jsxs)("div",{children:[Object(r.jsxs)(Ae.a,{container:!0,direction:"column",alignItems:"flex-start",children:[Object(r.jsx)(te.a,{color:"primary",variant:"contained",className:e.root,onClick:function(){return o.apply(this,arguments)},disabled:c>=0,children:"Backup"}),Object(r.jsx)("input",{accept:"application/JSON",id:"restore-file",type:"file",onChange:function(e){var t=e.target.files;if(t.length<=0)return!1;var n=new FileReader;n.onload=function(){var e=Object(p.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=JSON.parse(t.target.result)){e.next=4;break}return alert("Invalid configuration"),e.abrupt("return",!1);case 4:return i(0),e.next=7,Y(n,i);case 7:i(-1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.readAsText(t.item(0))},hidden:!0}),Object(r.jsx)("label",{htmlFor:"restore-file",children:Object(r.jsx)(te.a,{color:"secondary",variant:"contained",component:"span",disabled:c>=0,className:e.root,children:"Restore"})}),Object(r.jsx)(te.a,{color:"primary",variant:"contained",className:e.root,onClick:function(){return u.apply(this,arguments)},disabled:c>=0,children:"Reset"}),Object(r.jsx)(te.a,{color:"secondary",variant:"contained",className:e.root,onClick:function(){return l.apply(this,arguments)},disabled:c>=0,children:"Restart"})]}),Object(r.jsx)("div",{children:c>=0&&Object(r.jsx)(nt.a,{variant:"determinate",value:c})})]})}function pt(){return Object(r.jsx)(te.a,{color:"primary",variant:"contained",onClick:z,children:"Firmware upgrade"})}var ht=n(172),jt=n(97),vt=n(187);function mt(){var e=Object(ht.a)("(prefers-color-scheme: dark)"),t=Object(a.useMemo)((function(){return Object(jt.a)({palette:{type:e?"dark":"light"}})}),[e]),n=[{path:"/programs",name:"Programs",title:"Programs",content:ut},{path:"/config",name:"Configuration",title:"System configuration",content:ft},{path:"/backup",name:"Backup",title:"Backup / Restore",content:dt},{path:"/firmware",name:"Firmware",title:"Firmware update",content:pt}];return Object(r.jsxs)(vt.a,{theme:t,children:[Object(r.jsx)(ne.a,{}),Object(r.jsx)(ye,{navigation:n})]})}var Ot=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,194)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};o.a.render(Object(r.jsx)(mt,{}),document.getElementById("root")),Ot()}},[[121,1,2]]]);