(this["webpackJsonptocata-pedal"]=this["webpackJsonptocata-pedal"]||[]).push([[0],{122:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(0),c=n.n(a),i=n(15),s=n.n(i),o=n(7),u=n.n(o),l=n(9),f=n(14),p=n(10),b=n(22),d=n(27),j=n(56),h=n(57),m=function(){function e(t){Object(j.a)(this,e),this.usb=t}return Object(h.a)(e,[{key:"connect",value:function(){var e=Object(l.a)(o.mark((function e(t){var n,r;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.reconnect(t);case 3:e.next=16;break;case 5:return e.prev=5,e.t0=e.catch(0),console.log("Connecting..."),n=[{vendorId:51966}],e.next=11,this.usb.requestDevice({filters:n});case 11:if(r=e.sent){e.next=14;break}throw"No device selected";case 14:return e.next=16,this.connectDevice(r,t);case 16:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reconnect",value:function(){var e=Object(l.a)(o.mark((function e(t){var n,r;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Reconnecting..."),e.next=3,this.usb.getDevices();case 3:if(n=e.sent,r=n.find((function(e){return console.log("checking",e),51966==e.vendorId}))){e.next=7;break}throw"No cached devices found";case 7:return e.next=9,this.connectDevice(r,t);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"connectDevice",value:function(){var e=Object(l.a)(o.mark((function e(t,n){var r=this;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.device_=t,e.next=3,this.device_.open();case 3:if(null!==this.device_.configuration){e.next=6;break}return e.next=6,this.device_.selectConfiguration(1);case 6:if(this.device_.configuration.interfaces.forEach((function(e){e.alternates.forEach((function(t){255==t.interfaceClass&&(r.interfaceNumber=e.interfaceNumber,t.endpoints.forEach((function(e){"out"==e.direction&&(r.endpointOut=e.endpointNumber),"in"==e.direction&&(r.endpointIn=e.endpointNumber)})))}))})),this.endpointIn&&this.endpointOut){e.next=11;break}throw console.log("no usb devie"),"Cannot find USB device";case 11:return e.next=13,this.device_.claimInterface(this.interfaceNumber);case 13:return e.next=15,this.device_.controlTransferOut({requestType:"class",recipient:"interface",request:34,value:1,index:this.interfaceNumber});case 15:this.usb.ondisconnect=function(e){console.log(e),r.device_=null,n&&n()},console.log("Connected");case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"send",value:function(){var e=Object(l.a)(o.mark((function e(t){var n,r;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.buffer;case 1:if(!n){e.next=7;break}return n.byteLength>64?(r=n.slice(0,64),n=n.slice(64)):(r=n,n=null),e.next=5,this.device_.transferOut(this.endpointOut,r);case 5:e.next=1;break;case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"receive",value:function(){var e=Object(l.a)(o.mark((function e(){var t,n;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.device_.transferIn(this.endpointIn,64);case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),v=function(){function e(t){Object(j.a)(this,e),this.usb=new m(t)}return Object(h.a)(e,[{key:"connect",value:function(e,t){return this.buffer=new Uint8Array,this.responseResolve=null,e?this.usb.reconnect(t):this.usb.connect(t)}},{key:"receive",value:function(){var e=Object(l.a)(o.mark((function e(){var t,n,r,a,c,i,s,u;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=1/0;case 1:if(!(this.buffer.byteLength<t)){e.next=14;break}return e.next=4,this.usb.receive();case 4:r=e.sent,a=this.buffer,this.buffer=new Uint8Array(a.byteLength+r.byteLength),this.buffer.set(a),this.buffer.set(new Uint8Array(r.buffer),a.byteLength),n=new DataView(this.buffer.buffer),c=this.buffer.byteLength>2?n.getUint16(0,!0):1/0,t=4+c,e.next=1;break;case 14:if(i=n.getUint8(2),s=n.getUint8(3),u=this.buffer.slice(4),this.responseResolve,this.responseResolve=null,this.buffer=this.buffer.byteLength>t?this.buffer.slice(t):new Uint8Array,0!=s){e.next=24;break}return e.abrupt("return",{command:i,status:s,data:u});case 24:throw"Response with status ".concat(s);case 25:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sendRequest",value:function(){var e=Object(l.a)(o.mark((function e(t){var n,r,a,c=this,i=arguments;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:new Uint8Array,r=new Uint8Array(4+n.byteLength),(a=new DataView(r.buffer)).setUint16(0,n.byteLength,!0),a.setUint8(2,t),a.setUint8(3,0),r.set(n,4),new Promise((function(e,t){c.responseResolve=e,c.responseReject=t})),e.next=10,this.usb.send(a);case 10:return e.next=12,this.receive();case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),O=n(82),x=n(83);n(115);var g={uint8:function(e,t){return[e.getUint8(t),t+1]},uint16:function(e,t){return[e.getUint16(t),t+2]},uint32:function(e,t){return[e.getUint32(t),t+4]},bool:function(e,t){return[0!=e.getUint8(t),t+1]},enum:function(e,t,n){return[n[e.getUint8(t)],t+1]},str:function(e,t,n){var r=new Uint8Array(e.buffer,t,n+1),a=r.findIndex((function(e){return 0==e}));return[String.fromCharCode.apply(null,r.slice(0,a)),t+n+1]},array:function(e,t,n,r){for(var a=[],c=arguments.length,i=new Array(c>4?c-4:0),s=4;s<c;s++)i[s-4]=arguments[s];for(var o=0;o<n;++o){var u=void 0,l=g[r].apply(g,[e,t].concat(i)),p=Object(f.a)(l,2);u=p[0],t=p[1],a[o]=u}return[a,t]},nArray:function(e,t){for(var n=e.getUint8(t++),r=arguments.length,a=new Array(r>2?r-2:0),c=2;c<r;c++)a[c-2]=arguments[c];var i=g.array.apply(g,[e,t].concat(a)),s=Object(f.a)(i,2),o=s[0],u=s[1];return[o.slice(0,n),u]},struct:function(e,t,n){var r,a,c={},i=Object(x.a)(n.fields);try{for(i.s();!(r=i.n()).done;){var s,o=Object(O.a)(r.value),u=o[0],l=o[1],p=o.slice(2),b=g[l].apply(g,[e,t].concat(Object(d.a)(p))),j=Object(f.a)(b,2);s=j[0],t=j[1],null===(a=s)||"object"==typeof a&&0===a.length||"boolean"==typeof a&&!1===a||(c[u]=s)}}catch(h){i.e(h)}finally{i.f()}return[n.valid&&!n.valid(c)?null:c,t]}},y={uint8:function(e,t,n){return e.setUint8(t,n),t+1},uint16:function(e,t,n){return e.setUint16(t,n),t+2},uint32:function(e,t,n){return e.setUint32(t,n),t+4},bool:function(e,t,n){return e.setUint8(t,n),t+1},enum:function(e,t,n,r){return e.setUint8(t,r.findIndex((function(e){return e==n}))),t+1},str:function(e,t,n,r){new Uint8Array(e,t,r+1);for(var a=n?n.length:0,c=0;c<a;++c)e.setUint8(t+c,n.charCodeAt(c));return e.setUint8(t+a,0),t+r+1},array:function(e,t,n,r,a){for(var c=arguments.length,i=new Array(c>5?c-5:0),s=5;s<c;s++)i[s-5]=arguments[s];for(var o=0;o<r;++o)t=y[a].apply(y,[e,t,n?n[o]:null].concat(i));return t},nArray:function(e,t,n){e.setUint8(t++,n?n.length:0);for(var r=arguments.length,a=new Array(r>3?r-3:0),c=3;c<r;c++)a[c-3]=arguments[c];return y.array.apply(y,[e,t,n].concat(a))},struct:function(e,t,n,r){n=!n||r.valid&&!r.valid(n)?{}:n;var a,c=Object(x.a)(r.fields);try{for(c.s();!(a=c.n()).done;){var i=Object(O.a)(a.value),s=i[0],o=i[1],u=i.slice(2);t=y[o].apply(y,[e,t,n[s]].concat(Object(d.a)(u)))}}catch(l){c.e(l)}finally{c.f()}return t}},w={fields:[["wifi","struct",{fields:[["ssid","str",63],["key","str",63]],valid:function(e){return e.ssid}},function(e){return e.ssid}]]},k={fields:[["type","enum",[null,"PC","CC","NO","NF"]],["values","array",2,"uint8"]]},C={fields:[["id","uint8"],["names","nArray",16,"str",30]]},N={fields:[["id","uint8"],["program","struct",{fields:[["name","str",30],["fs","nArray",6,"struct",{fields:[["onActions","nArray",5,"struct",k],["offActions","nArray",5,"struct",k],["name","str",5],["color","enum",["blue","purple","red","yellow","green","turquoise"]],["enabled","bool"],["default","bool"],["momentary","bool"]],valid:function(e){return e.name}}],["actions","nArray",5,"struct",k]],valid:function(e){return e.name}}]]},A=function(e,t){return g.struct(new DataView(e),0,t)[0]},P=function(e,t,n){return e.slice(0,y.struct(new DataView(e),0,t,n))},U=99,S=new(function(){function e(){Object(j.a)(this,e),this.protocol=null,this.requestQueue=[]}return Object(h.a)(e,[{key:"connect",value:function(){var e=Object(l.a)(o.mark((function e(t,n,r){var a,c=this;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new v(t),e.next=3,a.connect(n,(function(){c.protocol=null,r&&r()}));case 3:this.protocol=a;case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"sendRequest",value:function(e,t){var n=this;if(!this.connected)throw"Not connected";var r={command:e,data:new Uint8Array(t)},a=new Promise((function(e,t){r.resolve=e,r.reject=t}));this.requestQueue.push(r);var c=function(){var e=Object(l.a)(o.mark((function e(){var t,r,a;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=n.requestQueue.length){e.next=2;break}return e.abrupt("return");case 2:return t=n.requestQueue[0],e.prev=3,e.next=6,n.protocol.sendRequest(t.command,t.data);case 6:r=e.sent,a=r.data,t.resolve(a.buffer),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),t.reject(e.t0);case 14:n.requestQueue.shift(),c();case 16:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}();return 1==this.requestQueue.length&&c(),a}},{key:"getConfig",value:function(){var e=Object(l.a)(o.mark((function e(){var t;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getConfig"),e.next=3,this.sendRequest(3);case 3:return t=e.sent,e.abrupt("return",A(t,w));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setConfig",value:function(){var e=Object(l.a)(o.mark((function e(t){var n;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("setConfig"),r=t,n=P(new Uint8Array(512).buffer,r,w),e.next=4,this.sendRequest(4,n);case 4:case"end":return e.stop()}var r}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteConfig",value:function(){var e=Object(l.a)(o.mark((function e(){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("deleteConfig"),e.next=3,this.sendRequest(5);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getProgramNames",value:function(){var e=Object(l.a)(o.mark((function e(){var t,n,r;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("getProgramNames"),t=[];case 2:if(!(t.length<99)){e.next=10;break}return e.next=5,this.sendRequest(6,new Uint8Array([t.length]));case 5:n=e.sent,r=A(n,C),t.push.apply(t,Object(d.a)(r.names)),e.next=2;break;case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getProgram",value:function(){var e=Object(l.a)(o.mark((function e(t){var n,r,a;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getprogram",t),e.next=3,this.sendRequest(7,new Uint8Array([t]));case 3:return n=e.sent,r=A(n,N),a=r.program,e.abrupt("return",a||{});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setProgram",value:function(){var e=Object(l.a)(o.mark((function e(t,n){var r;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("setprogram",t),a={id:t,program:n},r=P(new Uint8Array(512).buffer,a,N),e.next=4,this.sendRequest(8,r);case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteProgram",value:function(){var e=Object(l.a)(o.mark((function e(t){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("deleteProgram",t),e.next=3,this.sendRequest(9,new Uint8Array([t]));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"restart",value:function(){var e=Object(l.a)(o.mark((function e(){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendRequest(1);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"firmwareUpgrade",value:function(){var e=Object(l.a)(o.mark((function e(){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendRequest(2);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"backup",value:function(){var e=Object(l.a)(o.mark((function e(){var t,n,r;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getConfig();case 2:return t=e.sent,e.next=5,this.getProgramNames();case 5:n=e.sent,t.programs=[],e.t0=o.keys(n);case 8:if((e.t1=e.t0()).done){e.next=16;break}if(r=e.t1.value,!n[r]){e.next=14;break}return e.next=13,this.getProgram(r);case 13:t.programs[r]=e.sent;case 14:e.next=8;break;case 16:return e.abrupt("return",t);case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"restore",value:function(){var e=Object(l.a)(o.mark((function e(t){var n,r,a;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.programs,r=0;case 2:if(!(r<99)){e.next=14;break}if(!(a=n[r])||!a.name){e.next=9;break}return e.next=7,this.setProgram(r,a);case 7:e.next=11;break;case 9:return e.next=11,this.deleteProgram(r);case 11:++r,e.next=2;break;case 14:return e.next=16,this.setConfig(t);case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"factory",value:function(){var e=Object(l.a)(o.mark((function e(){var t;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<99)){e.next=7;break}return e.next=4,this.deleteProgram(t);case 4:++t,e.next=1;break;case 7:return e.next=9,this.deleteConfig();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"connected",get:function(){return null!=this.protocol}}]),e}()),R=function(){return"usb"in navigator},I=function(){return S.connected},q=function(e,t){return S.connect(navigator.usb,e,t)};function D(){return E.apply(this,arguments)}function E(){return(E=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S.getConfig());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return T.apply(this,arguments)}function T(){return(T=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S.setConfig(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return M.apply(this,arguments)}function M(){return(M=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S.deleteConfig());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return _.apply(this,arguments)}function _(){return(_=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S.getProgramNames());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e){return W.apply(this,arguments)}function W(){return(W=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S.getProgram(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e,t){return z.apply(this,arguments)}function z(){return(z=Object(l.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S.setProgram(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){return G.apply(this,arguments)}function G(){return(G=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S.deleteProgram(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(){return H.apply(this,arguments)}function H(){return(H=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S.restart());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e){return X.apply(this,arguments)}function X(){return(X=Object(l.a)(u.a.mark((function e(t){var n,r,a,c,i,s,o,l,f,p;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(e){n+=e,t&&t(n)},n=0,console.log("start readAll"),e.next=5,B();case 5:return a=e.sent,r(5),e.next=9,D();case 9:c=e.sent,i=c.wifi,r(5),s=a.reduce((function(e,t,n){return t?[].concat(Object(d.a)(e),[n]):e}),[]),o=[],l=(100-n)/s.length,e.t0=u.a.keys(s);case 16:if((e.t1=e.t0()).done){e.next=25;break}return f=e.t1.value,p=s[f],e.next=21,J(p);case 21:o[p]=e.sent,r(l),e.next=16;break;case 25:return t&&t(100),console.log("end readAll"),e.abrupt("return",{wifi:i,programs:o});case 28:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e,t){return $.apply(this,arguments)}function $(){return($=Object(l.a)(u.a.mark((function e(t,n){var r,a,c,i,s,o,l,f;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=function(e){i+=e,n&&n(i)},r=t.wifi,a=t.programs,c=void 0===a?[]:a,i=0,console.log("start updateAll"),o=1,l=0;case 6:if(!(l<U)){e.next=14;break}return f=c[l],e.next=10,f?Q(l,f):V(l);case 10:s(o);case 11:++l,e.next=6;break;case 14:return e.next=16,r?F({wifi:r}):L();case 16:s(1),console.log("end updateAll");case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(l.a)(u.a.mark((function e(t){var n,r,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=function(e){n+=e,t&&t(n)},n=0,console.log("start restore"),a=1,c=0;case 5:if(!(c<U)){e.next=12;break}return e.next=8,V(c);case 8:r(a);case 9:++c,e.next=5;break;case 12:return e.next=14,L();case 14:r(1),console.log("end restore");case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e){return new Promise((function(t){return setTimeout(t,e)}))}function re(e){return ae.apply(this,arguments)}function ae(){return(ae=Object(l.a)(u.a.mark((function e(t){var n,r,a,c,i,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(e){n+=e,t&&t(n)},n=0,console.log("start restart"),e.next=5,Y();case 5:r(5),i=(100-n)/((a=5e3)/(c=500)),console.log("waiting ".concat(a/1e3," seconds")),s=0;case 11:if(!(s<a)){e.next=18;break}return e.next=14,ne(c);case 14:s+=c,r(i),e.next=11;break;case 18:console.log("end restart");case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ce=n(170),ie=n(174),se=n(169),oe=n(167),ue=n(191),le=n(190),fe=n(172),pe=n(168),be=n(124),de=n(165),je=n(166),he=n(95),me=n.n(he),ve=n(171),Oe=n(34),xe=n(162),ge=n(18),ye=n(81),we=n(16),ke=240,Ce=Object(xe.a)((function(e){return{root:{display:"flex"},drawer:Object(b.a)({},e.breakpoints.up("sm"),{width:ke,flexShrink:0}),appBar:Object(b.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(ke,"px)"),marginLeft:ke}),menuButton:Object(b.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:ke},content:{flexGrow:1,padding:e.spacing(3)}}}));function Ne(e){var t=e.icon,n=e.primary,a=e.to,i=e.index,s=e.onClick,o=c.a.useMemo((function(){return c.a.forwardRef((function(e,t){return Object(r.jsx)(ye.a,Object(p.a)({to:a,ref:t},e))}))}),[a]);return Object(r.jsx)("li",{children:Object(r.jsxs)(be.a,{button:!0,component:o,onClick:s,children:[t?Object(r.jsx)(de.a,{children:t}):null,Object(r.jsx)(je.a,{primary:n})]})},i)}var Ae=function(e){var t=e.window,n=e.navigation,a=Ce(),i=Object(ge.a)(),s=c.a.useState(!1),o=Object(f.a)(s,2),p=o[0],b=o[1],d=c.a.useState(I()),j=Object(f.a)(d,2),h=j[0],m=j[1];R()&&!h&&q(!0,(function(){return m(!1)})).then((function(){return m(I())})).catch((function(e){return console.log("cannot reconnect",e)}));var v=function(){console.log("handleDrawerToggle",p),b(!p)},O=Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:a.toolbar}),Object(r.jsx)(oe.a,{}),Object(r.jsx)(pe.a,{children:n.map((function(e,t){var n=e.path,a=e.name;return Object(r.jsx)(Ne,{to:n,primary:a,onClick:function(){return b(!1)}},t)}))})]}),x=void 0!==t?function(){return t().document.body}:void 0;function g(){return y.apply(this,arguments)}function y(){return(y=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q();case 3:m(I()),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(r.jsx)(we.a,{children:Object(r.jsxs)("div",{className:a.root,children:[Object(r.jsx)(se.a,{}),Object(r.jsx)(ce.a,{position:"fixed",className:a.appBar,children:Object(r.jsxs)(ve.a,{children:[Object(r.jsx)(fe.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:v,className:a.menuButton,children:Object(r.jsx)(me.a,{})}),Object(r.jsx)(Oe.a,{variant:"h6",noWrap:!0,children:Object(r.jsx)(we.d,{children:function(e){var t=e.location,r=n.filter((function(e){var n=e.path;return t.pathname.startsWith(n)}));return r.length>0?r[0].title:"TocataPedal"}})})]})}),Object(r.jsxs)("nav",{className:a.drawer,"aria-label":"mailbox folders",children:[Object(r.jsx)(le.a,{smUp:!0,implementation:"css",children:Object(r.jsx)(ue.a,{container:x,variant:"temporary",anchor:"rtl"===i.direction?"right":"left",open:p,onClose:v,classes:{paper:a.drawerPaper},ModalProps:{keepMounted:!0},children:O})}),Object(r.jsx)(le.a,{xsDown:!0,implementation:"css",children:Object(r.jsx)(ue.a,{classes:{paper:a.drawerPaper},variant:"permanent",open:!0,children:O})})]}),Object(r.jsxs)("main",{className:a.content,children:[Object(r.jsx)("div",{className:a.toolbar}),Object(r.jsxs)(we.f,{children:[n.map((function(e,t){var n=e.path,a=e.content;return Object(r.jsx)(we.d,{path:n,children:R()?h?c.a.createElement(a,{}):Object(r.jsx)(ie.a,{color:"primary",variant:"contained",onClick:g,children:"Connect to device"}):Object(r.jsx)(Oe.a,{children:"This browser doesn't support USB connections. Please use Google Chrome."})},t)})),Object(r.jsx)(we.c,{to:"/programs"})]})]})]})})},Pe=n(189),Ue=n(175),Se=n(176),Re=n(177),Ie=n(178),qe=n(179),De=n(180),Ee=n(181),Fe=n(182),Te=n(183),Le=n(192),Me=n(193),Be=n(184),_e=Object(xe.a)((function(e){return{root:{margin:e.spacing(1),minWidth:120},chip:{margin:e.spacing(.5,0)},card:{padding:e.spacing(1,2)}}}));function Je(e){return We[e.type].description(e)}var We={PC:{name:"Program Change",values:[{name:"Program",min:1}],description:function(e){return"".concat(e.values[0])}},CC:{name:"Control Change",values:[{name:"Control",min:1},{name:"Value"}],description:function(e){return"".concat(e.values[0],":").concat(e.values[1])}}};function Qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"PC",t={type:e,values:[0,0]};return We[e].values.forEach((function(e,n){return t.values[n]=e.min||0})),t}function ze(e){var t=e.id,n=e.action,c=e.setAction,i=e.onClose,s=e.open,o=_e(),u=Object(a.useState)(n||Qe("PC")),l=Object(f.a)(u,2),b=l[0],j=l[1];function h(e){var t=Object(d.a)(b.values);t[e.target.index]=e.target.value,j(Object(p.a)(Object(p.a)({},b),{},{values:t}))}function m(e){var t=We[b.type].values[e];return t&&Object(r.jsx)(Pe.a,{type:"number",label:t.name,className:o.root,index:e,value:void 0===b.values[e]?t.min:b.values[e],onChange:h,inputProps:{min:void 0===t.min?0:t.min,max:void 0===t.max?127:t.max}})}return Object(a.useEffect)((function(){return j(n||Qe("PC"))}),[n,s]),Object(r.jsxs)(Ue.a,{onClose:i,"aria-labelledby":"simple-dialog-title",open:s,children:[Object(r.jsx)(Se.a,{id:"simple-dialog-title",children:"MIDI ACTION ".concat(Number(t)+1)}),Object(r.jsx)(Re.a,{children:Object(r.jsxs)(Ie.a,{container:!0,direction:"column",alignItems:"flex-start",children:[Object(r.jsx)(Pe.a,{label:"Type",select:!0,name:"type",value:b.type,className:o.led,onChange:function(e){var t=e.target.value;j(n&&n.type===t?n:Qe(t))},children:Object.keys(We).map((function(e,t){return Object(r.jsx)(qe.a,{value:e,children:We[e].name},t)}))}),m(0),m(1)]})}),Object(r.jsxs)(De.a,{children:[Object(r.jsx)(ie.a,{variant:"contained",color:"primary",onClick:i,children:"Cancel"}),Object(r.jsx)(ie.a,{variant:"contained",color:"primary",onClick:function(){c(t,b),i()},children:"Update"})]})]})}function Ve(e){var t=e.actions,n=e.setActions,c=e.title,i=_e(),s=Object(a.useState)(!1),o=Object(f.a)(s,2),u=o[0],l=o[1],b=Object(a.useState)({actions:t}),j=Object(f.a)(b,2),h=j[0],m=j[1];function v(e){var t=h.actions?h.actions[e]:null;m(Object(p.a)(Object(p.a)({},h),{},{id:e,action:t})),l(!0)}return Object(a.useEffect)((function(){return m({actions:t})}),[t]),Object(r.jsxs)(Ee.a,{className:i.root,children:[Object(r.jsx)(Fe.a,{className:i.card,title:c,titleTypographyProps:{variant:"subtitle1"}}),Object(r.jsx)(Te.a,{className:i.card,children:Object(r.jsx)(Ie.a,{container:!0,direction:"column",alignItems:"flex-start",children:t&&t.length>0?t.map((function(e,t){return Object(r.jsx)(Le.a,{className:i.chip,avatar:Object(r.jsx)(Me.a,{children:e.type}),variant:"outlined",label:Je(e),clickable:!0,onClick:function(){return v(t)},onDelete:function(){return function(e){var t=Object(d.a)(h.actions);t.splice(e,1),m(Object(p.a)(Object(p.a)({},h),{},{actions:t})),n(t)}(t)}},t)})):"No actions"})}),Object(r.jsx)(Be.a,{children:Object(r.jsx)(ie.a,{color:"primary",variant:"contained",size:"small",onClick:function(){v(t?t.length:0)},children:"Add"})}),Object(r.jsx)(ze,{id:h.id,action:h.action,setAction:function(e,t){var r=h.actions||[];r[e]=t,m({actions:r,id:e,action:t}),n(r)},open:u,onClose:function(){return l(!1)}})]})}var Ge=n(185),Ye=n(194),He=n(186),Ke=n(71),Xe=n.n(Ke),Ze=n(72),$e=n.n(Ze),et="A".charCodeAt(0),tt=["blue","purple","red","yellow","green","turquoise"],nt=Object(xe.a)((function(e){return{root:{margin:e.spacing(1),minWidth:120},led:{margin:e.spacing(1)},icon:{margin:e.spacing(2,0,0,1)},fsEntry:{float:"left",width:90}}}));function rt(e){var t=e.color;return Object(r.jsx)("div",{style:{width:15,height:15,borderWidth:1,borderStyle:"solid",borderRadius:"50%",backgroundColor:t,float:"left"}})}function at(e){var t=e.id,n=e.footswitch,c=e.setFootswitch,i=e.onClose,s=e.open,o=nt(),u=Object(a.useMemo)((function(){return{name:"",color:tt[0],enabled:!1,momentary:!1,onActions:[],offActions:[]}}),[]),l=Object(a.useState)(Object(p.a)(Object(p.a)({},u),n)),d=Object(f.a)(l,2),j=d[0],h=d[1];function m(e){h(Object(p.a)(Object(p.a)({},j),{},Object(b.a)({},e.target.name,e.target.value)))}function v(e){h(Object(p.a)(Object(p.a)({},j),{},Object(b.a)({},e.target.name,e.target.checked)))}return Object(a.useEffect)((function(){return h(Object(p.a)(Object(p.a)({},u),n))}),[n,u]),Object(r.jsxs)(Ue.a,{onClose:i,"aria-labelledby":"simple-dialog-title",open:s,children:[Object(r.jsx)(Se.a,{id:"simple-dialog-title",children:"FOOTSWITCH ".concat(String.fromCharCode(et+Number(t)))}),Object(r.jsx)(Re.a,{children:Object(r.jsxs)(Ie.a,{container:!0,direction:"column",alignItems:"flex-start",children:[Object(r.jsx)(Pe.a,{label:"Footswitch name",className:o.root,name:"name",value:j.name,onChange:m,inputProps:{maxLength:5}}),Object(r.jsx)(Pe.a,{label:"Color",select:!0,name:"color",value:j.color,className:o.led,onChange:m,children:tt.map((function(e,t){return Object(r.jsx)(qe.a,{value:e,children:Object(r.jsx)(rt,{color:e})},t)}))}),Object(r.jsx)(Ge.a,{className:o.root,control:Object(r.jsx)(Ye.a,{checked:j.enabled,name:"enabled",onChange:v}),label:"Default On"}),Object(r.jsx)(Ge.a,{className:o.root,control:Object(r.jsx)(Ye.a,{checked:j.momentary,name:"momentary",onChange:v}),label:"Momentary"})]})}),Object(r.jsxs)(De.a,{children:[Object(r.jsx)(ie.a,{variant:"contained",color:"primary",onClick:i,children:"Cancel"}),Object(r.jsx)(ie.a,{variant:"contained",color:"primary",onClick:function(){c(t,j),i()},disabled:!j.name,children:"Update"})]})]})}function ct(e){var t=e.id,n=e.footswitch,a=void 0===n?{}:n,c=e.setFootswitch;return a.name?Object(r.jsxs)(Ie.a,{container:!0,direction:"row",alignItems:"flex-start",children:[Object(r.jsx)(Ve,{actions:a.onActions,setActions:function(e){return c(t,Object(p.a)(Object(p.a)({},a),{},{onActions:e}))},title:"On MIDI"}),Object(r.jsx)(Ve,{actions:a.offActions,setActions:function(e){return c(t,Object(p.a)(Object(p.a)({},a),{},{offActions:e}))},title:"Off MIDI"})]}):Object(r.jsx)("div",{})}function it(e){var t=e.footswitches,n=e.setFootswitches,c=nt(),i=Object(a.useState)(x(t)),s=Object(f.a)(i,2),o=s[0],u=s[1],l=Object(a.useState)(!1),b=Object(f.a)(l,2),d=b[0],j=b[1],h=Object(a.useState)(0),m=Object(f.a)(h,2),v=m[0],O=m[1];function x(e){for(var t=e.map((function(e){return e?{name:e.name,color:e.color}:null})),n=t.length;n<6;++n)t.push(null);return t}function g(e,r){var a=r?Object(p.a)({},r):null;for(a&&!t[e]&&(a.onActions=[{type:"CC",values:[Number(e)+32,127]}],a.offActions=[{type:"CC",values:[Number(e)+32,0]}]),a&&(a.enabled||delete a.enabled,a.momentary||delete a.momentary,a.onActions&&0===a.onActions.length&&delete a.onActions,a.offActions&&0===a.offActions.length&&delete a.offActions),t[e]=a;t.length>0&&!t[t.length-1];)t.pop();n(t),u(x(t))}Object(a.useEffect)((function(){return u(x(t))}),[t]);return Object(r.jsxs)(Ie.a,{children:[Object(r.jsxs)(Ie.a,{children:[Object(r.jsx)(Pe.a,{label:"Footswitch",className:c.root,select:!0,value:v,onChange:function(e){var t=e.target.value;O(t)},children:o.map((function(e,t){return Object(r.jsx)(qe.a,{value:t,children:Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:c.fsEntry,children:"".concat(String.fromCharCode(et+t)," - ").concat(e?e.name:"<EMPTY>")}),e?Object(r.jsx)(rt,{color:e.color}):Object(r.jsx)("div",{})]})},t)}))}),Object(r.jsx)(He.a,{className:c.icon,size:"small",color:"primary","aria-label":"edit",onClick:function(){return j(!0)},children:Object(r.jsx)(Xe.a,{})}),Object(r.jsx)(He.a,{className:c.icon,size:"small",color:"secondary","aria-label":"delete",onClick:function(){return g(v,null)},children:Object(r.jsx)($e.a,{})}),Object(r.jsx)(at,{id:v,footswitch:t[v],setFootswitch:g,open:d,onClose:function(){return j(!1)}})]}),Object(r.jsx)(ct,{id:v,footswitch:t[v],setFootswitch:g})]})}var st=n(187),ot="Are you sure you want to discard the changes made to this program?",ut=Object(xe.a)((function(e){return{root:{margin:e.spacing(1),minWidth:120},icon:{margin:e.spacing(2,0,0,1)}}})),lt=function(e,t){return"".concat(Number(t)+1," - ").concat(e||"<EMPTY>")};function ft(e,t){if(e===t)return!0;if("object"!=typeof e||"object"!=typeof t||null==e||null==t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=0,c=n;a<c.length;a++){var i=c[a];if(!r.includes(i)||!ft(e[i],t[i]))return!1}return!0}function pt(e){var t=e.id,n=e.program,c=e.setProgram,i=e.onClose,s=e.open,o=ut(),u=Object(a.useMemo)((function(){return{name:"",actions:[],fs:[]}}),[]),l=Object(a.useState)(Object(p.a)(Object(p.a)({},u),n)),d=Object(f.a)(l,2),j=d[0],h=d[1];return Object(a.useEffect)((function(){return h(Object(p.a)(Object(p.a)({},u),n))}),[n,u]),Object(r.jsxs)(Ue.a,{onClose:i,"aria-labelledby":"simple-dialog-title",open:s,children:[Object(r.jsx)(Se.a,{id:"simple-dialog-title",children:"PROGRAM ".concat(Number(t)+1)}),Object(r.jsx)(Re.a,{children:Object(r.jsx)(Pe.a,{label:"Name",name:"name",className:o.root,value:j.name,onChange:function(e){var t=Object(p.a)(Object(p.a)({},j),{},Object(b.a)({},e.target.name,e.target.value));h(t)},inputProps:{maxLength:30}})}),Object(r.jsxs)(De.a,{children:[Object(r.jsx)(ie.a,{variant:"contained",color:"primary",onClick:i,children:"Cancel"}),Object(r.jsx)(ie.a,{variant:"contained",color:"primary",onClick:function(){c(t,j),i()},disabled:!j.name,children:"Update"})]})]})}function bt(e){var t=e.id,n=e.program,c=e.setProgram;n.name||(n.actions=[{type:"PC",values:[Number(t)+1]}]);var i=Object(a.useMemo)((function(){return{name:"",actions:[],fs:[]}}),[]),s=Object(a.useState)(Object(p.a)(Object(p.a)({},i),n)),o=Object(f.a)(s,2),u=o[0],l=o[1];return Object(a.useEffect)((function(){l(Object(p.a)(Object(p.a)({},i),n))}),[n,i]),n.name?Object(r.jsxs)(Ie.a,{container:!0,direction:"column",alignItems:"flex-start",children:[Object(r.jsx)(Ve,{actions:n.actions,setActions:function(e){return c(t,Object(p.a)(Object(p.a)({},n),{},{actions:e}))},title:"Program MIDI"}),Object(r.jsx)(it,{footswitches:u.fs?u.fs:[],setFootswitches:function(e){var n=Object(p.a)(Object(p.a)({},u),{},{fs:e});l(n),c(t,n)}})]}):Object(r.jsx)("div",{})}function dt(){var e=ut(),t=new URLSearchParams(Object(we.j)().search).get("id")||0,n=Object(we.i)(),c=Object(a.useState)(null),i=Object(f.a)(c,2),s=i[0],o=i[1],p=Object(a.useState)(!1),b=Object(f.a)(p,2),j=b[0],h=b[1],m=Object(a.useState)(null),v=Object(f.a)(m,2),O=v[0],x=v[1],g=Object(a.useState)(null),y=Object(f.a)(g,2),w=y[0],k=y[1],C=Object(we.k)().path;Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(null),e.next=3,B();case 3:t=e.sent,o(t.map(lt));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(null),e.next=3,J(t);case 3:n=e.sent,x(n),k(JSON.parse(JSON.stringify(n)));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}(t)}),[t]);var N=function(){return w&&O&&!ft(A(w),A(O))};function A(e){return e?(e.fs&&0===e.fs.length&&delete e.fs,e.actions&&0===e.actions.length&&delete e.actions,e):null}function P(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n){var r=A(t);k(r),Q(e,r)}t||V(e);var a=Object(d.a)(s);a[e]=lt(t?t.name:null,e),o(a),x(t||{})}return s?Object(r.jsxs)("div",{children:[Object(r.jsx)(we.b,{when:O&&N(),message:function(){return ot}}),Object(r.jsxs)("div",{children:[Object(r.jsx)(Pe.a,{label:"Program",className:e.root,select:!0,value:t,onChange:function(e){var r=e.target.value;r!==t&&(O.name&&N()?window.confirm(ot)&&(P(t,w),n.push("".concat(C,"?id=").concat(r))):n.push("".concat(C,"?id=").concat(r)))},children:s.map((function(e,t){return Object(r.jsx)(qe.a,{value:t,children:e},t)}))}),Object(r.jsx)(He.a,{className:e.icon,size:"small",color:"primary","aria-label":"edit",disabled:!O,onClick:function(){return h(!0)},children:Object(r.jsx)(Xe.a,{})}),Object(r.jsx)(He.a,{className:e.icon,size:"small",color:"secondary","aria-label":"delete",disabled:!O||!O.name,onClick:function(){return P(t,null)},children:Object(r.jsx)($e.a,{})}),Object(r.jsx)(pt,{id:t,program:O,setProgram:P,open:j,onClose:function(){return h(!1)}})]}),Object(r.jsx)(oe.a,{}),O?Object(r.jsx)(bt,{id:t,program:O,setProgram:P}):Object(r.jsx)(st.a,{}),O&&O.name&&Object(r.jsxs)(Ie.a,{children:[Object(r.jsx)(oe.a,{}),Object(r.jsx)(ie.a,{color:"primary",variant:"contained",className:e.root,disabled:!N(),onClick:function(){return P(t,O,!0)},children:"Save"}),Object(r.jsx)(ie.a,{color:"secondary",variant:"contained",className:e.root,disabled:!N(),onClick:function(){return P(t,JSON.parse(JSON.stringify(w)))},children:"Discard"})]})]}):Object(r.jsx)(st.a,{})}var jt=Object(xe.a)((function(e){return{root:{margin:e.spacing(1),minWidth:120}}}));function ht(){var e=jt(),t=Object(a.useState)(null),n=Object(f.a)(t,2),c=n[0],i=n[1],s=Object(a.useState)(!1),o=Object(f.a)(s,2),d=o[0],j=o[1];function h(){return(h=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,F(c);case 3:j(!1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){var t=e.target.name.split("."),n=Object(f.a)(t,2),r=n[0],a=n[1];i(Object(p.a)(Object(p.a)({},c),{},Object(b.a)({},r,Object(p.a)(Object(p.a)({},c[r]),{},Object(b.a)({},a,e.target.value)))))}return Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(null),e.t0=i,e.next=4,D();case 4:e.t1=e.sent,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),c?Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)(Pe.a,{label:"SSID",className:e.root,name:"wifi.ssid",value:c.wifi?c.wifi.ssid:"",onChange:m}),Object(r.jsx)(Pe.a,{label:"Key",className:e.root,name:"wifi.key",value:c.wifi?c.wifi.key:"",onChange:m})]}),Object(r.jsx)(ie.a,{variant:"contained",color:"primary",className:e.root,onClick:function(){return h.apply(this,arguments)},disabled:d,children:"Save"})]}):Object(r.jsx)(st.a,{})}var mt=Object(xe.a)((function(e){return{root:{margin:e.spacing(1),minWidth:120}}}));function vt(){var e=mt(),t=Object(a.useState)(-1),n=Object(f.a)(t,2),c=n[0],i=n[1];function s(){return(s=Object(l.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(0),e.next=3,K(i);case 3:t=e.sent,(n=document.createElement("a")).setAttribute("href","data:text/json;charset=utf-8,".concat(encodeURIComponent(JSON.stringify(t,null,2)))),n.setAttribute("download","TocataConfig.json"),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),i(-1);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(){return(o=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(0),e.next=3,ee(i);case 3:i(-1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(0),e.next=3,re(i);case 3:i(-1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.jsxs)("div",{children:[Object(r.jsxs)(Ie.a,{container:!0,direction:"column",alignItems:"flex-start",children:[Object(r.jsx)(ie.a,{color:"primary",variant:"contained",className:e.root,onClick:function(){return s.apply(this,arguments)},disabled:c>=0,children:"Backup"}),Object(r.jsx)("input",{accept:"application/JSON",id:"restore-file",type:"file",onChange:function(e){var t=e.target.files;if(t.length<=0)return!1;var n=new FileReader;n.onload=function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=JSON.parse(t.target.result)){e.next=4;break}return alert("Invalid configuration"),e.abrupt("return",!1);case 4:return i(0),e.next=7,Z(n,i);case 7:i(-1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.readAsText(t.item(0))},hidden:!0}),Object(r.jsx)("label",{htmlFor:"restore-file",children:Object(r.jsx)(ie.a,{color:"secondary",variant:"contained",component:"span",disabled:c>=0,className:e.root,children:"Restore"})}),Object(r.jsx)(ie.a,{color:"primary",variant:"contained",className:e.root,onClick:function(){return o.apply(this,arguments)},disabled:c>=0,children:"Reset"}),Object(r.jsx)(ie.a,{color:"secondary",variant:"contained",className:e.root,onClick:function(){return p.apply(this,arguments)},disabled:c>=0,children:"Restart"})]}),Object(r.jsx)("div",{children:c>=0&&Object(r.jsx)(st.a,{variant:"determinate",value:c})})]})}function Ot(){return Object(r.jsx)(Oe.a,{children:"Coming soon..."})}var xt=n(173),gt=n(96),yt=n(188);function wt(){var e=Object(xt.a)("(prefers-color-scheme: dark)"),t=Object(a.useMemo)((function(){return Object(gt.a)({palette:{type:e?"dark":"light"}})}),[e]),n=[{path:"/programs",name:"Programs",title:"Programs",content:dt},{path:"/config",name:"Configuration",title:"System configuration",content:ht},{path:"/backup",name:"Backup",title:"Backup / Restore",content:vt},{path:"/firmware",name:"Firmware",title:"Firmware update",content:Ot}];return Object(r.jsxs)(yt.a,{theme:t,children:[Object(r.jsx)(se.a,{}),Object(r.jsx)(Ae,{navigation:n})]})}var kt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,195)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};s.a.render(Object(r.jsx)(wt,{}),document.getElementById("root")),kt()}},[[122,1,2]]]);